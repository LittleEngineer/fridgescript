<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META NAME="generator" CONTENT="http://txt2tags.sf.net">
<TITLE>The Language FridgeScript</TITLE>
</HEAD><BODY BGCOLOR="white" TEXT="black">
<P ALIGN="center"><CENTER><H1>The Language FridgeScript</H1>
<FONT SIZE="4">
<I>BNF Converter</I><BR>
</FONT></CENTER>

<P>
This document was automatically generated by the <I>BNF-Converter</I>. It was generated together with the lexer, the parser, and the abstract syntax module, which guarantees that the document matches with the implementation of the language (provided no hand-hacking has taken place (it has, but only additions to the end, some fixes to display <B>|</B> correctly, and this comment)).
</P>
<H2>The lexical structure of FridgeScript</H2>
<H3>Identifiers</H3>
<P>
Identifiers <I>Ident</I> are unquoted strings beginning with a letter,
followed by any combination of letters, digits, and the characters <CODE>_ '</CODE>
reserved words excluded.
</P>
<H3>Literals</H3>
<P>
Double-precision float literals <I>Double</I> have the structure
indicated by the regular expression <CODE>digit+ '.' digit+ ('e' ('-')? digit+)?</CODE> i.e.\
two sequences of digits separated by a decimal point, optionally
followed by an unsigned or negative exponent.
</P>
<P>
Integer literals <I>Integer</I> are nonempty sequences of digits.
</P>
<H3>Reserved words and symbols</H3>
<P>
The set of reserved words is the set of terminals appearing in the grammar. Those reserved words that consist of non-letter characters are called symbols, and they are treated in a different way from those that are similar to identifiers. The lexer follows rules familiar from languages like Haskell, C, and Java, including longest match and spacing conventions.
</P>
<P>
The reserved words used in FridgeScript are the following:
</P>
<TABLE ALIGN="center" CELLPADDING="4">
<TR>
<TD><CODE>abs</CODE></TD>
<TD><CODE>acos</CODE></TD>
<TD><CODE>asin</CODE></TD>
<TD><CODE>atan</CODE></TD>
</TR>
<TR>
<TD><CODE>atan2</CODE></TD>
<TD><CODE>break</CODE></TD>
<TD><CODE>continue</CODE></TD>
<TD><CODE>cos</CODE></TD>
</TR>
<TR>
<TD><CODE>else</CODE></TD>
<TD><CODE>exp</CODE></TD>
<TD><CODE>for</CODE></TD>
<TD><CODE>if</CODE></TD>
</TR>
<TR>
<TD><CODE>log</CODE></TD>
<TD><CODE>log10</CODE></TD>
<TD><CODE>pi</CODE></TD>
<TD><CODE>pow</CODE></TD>
</TR>
<TR>
<TD><CODE>return</CODE></TD>
<TD><CODE>sin</CODE></TD>
<TD><CODE>sqrt</CODE></TD>
<TD><CODE>tan</CODE></TD>
</TR>
<TR>
<TD><CODE>until</CODE></TD>
<TD><CODE>while</CODE></TD>
<TD></TD>
</TR>
</TABLE>

<P></P>
<P>
The symbols used in FridgeScript are the following:
</P>
<TABLE ALIGN="center" CELLPADDING="4">
<TR>
<TD>(</TD>
<TD>)</TD>
<TD>{</TD>
<TD>}</TD>
</TR>
<TR>
<TD>,</TD>
<TD>;</TD>
<TD>++</TD>
<TD>--</TD>
</TR>
<TR>
<TD>!</TD>
<TD>-</TD>
<TD>~</TD>
<TD>+</TD>
</TR>
<TR>
<TD>*</TD>
<TD>/</TD>
<TD>%</TD>
<TD>&lt;&lt;</TD>
</TR>
<TR>
<TD>&gt;&gt;</TD>
<TD>&lt;</TD>
<TD>&gt;</TD>
<TD>&lt;=</TD>
</TR>
<TR>
<TD>&gt;=</TD>
<TD>==</TD>
<TD>!=</TD>
<TD>&amp;</TD>
</TR>
<TR>
<TD><B>|</B></TD>
<TD>^</TD>
<TD>&amp;&amp;</TD>
<TD><B>|</B> <B>|</B></TD>
</TR>
<TR>
<TD>^^</TD>
<TD>?</TD>
<TD>:</TD>
<TD>=</TD>
</TR>
<TR>
<TD>+=</TD>
<TD>-=</TD>
<TD>*=</TD>
<TD>/=</TD>
</TR>
<TR>
<TD>%=</TD>
<TD>&amp;=</TD>
<TD><B>|</B>=</TD>
<TD>^=</TD>
</TR>
<TR>
<TD>&lt;&lt;=</TD>
<TD>&gt;&gt;=</TD>
<TD></TD>
</TR>
</TABLE>

<P></P>
<H3>Comments</H3>
<P>
Single-line comments begin with //.Multiple-line comments are  enclosed with /* and */.
</P>
<H2>The syntactic structure of FridgeScript</H2>
<P>
Non-terminals are enclosed between &lt; and &gt;. 
The symbols -&gt; (production),  <B>|</B>  (union) 
and <B>eps</B> (empty rule) belong to the BNF notation. 
All other symbols are terminals.
</P>
<TABLE ALIGN="center" CELLPADDING="4">
<TR>
<TD><I>Program</I></TD>
<TD>-&gt;</TD>
<TD><I>[Block]</I></TD>
</TR>
<TR>
<TD><I>Block</I></TD>
<TD>-&gt;</TD>
<TD><I>[Function]</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>[Statement]</I></TD>
</TR>
<TR>
<TD><I>Function</I></TD>
<TD>-&gt;</TD>
<TD><I>Ident</I> <CODE>(</CODE> <I>[Parameter]</I> <CODE>)</CODE> <CODE>{</CODE> <I>[Block]</I> <CODE>}</CODE></TD>
</TR>
<TR>
<TD><I>Parameter</I></TD>
<TD>-&gt;</TD>
<TD><I>Ident</I></TD>
</TR>
<TR>
<TD><I>[Block]</I></TD>
<TD>-&gt;</TD>
<TD><B>eps</B></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Block</I> <I>[Block]</I></TD>
</TR>
<TR>
<TD><I>[Function]</I></TD>
<TD>-&gt;</TD>
<TD><I>Function</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Function</I> <I>[Function]</I></TD>
</TR>
<TR>
<TD><I>[Statement]</I></TD>
<TD>-&gt;</TD>
<TD><I>Statement</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Statement</I> <I>[Statement]</I></TD>
</TR>
<TR>
<TD><I>[Parameter]</I></TD>
<TD>-&gt;</TD>
<TD><I>Parameter</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Parameter</I> <CODE>,</CODE> <I>[Parameter]</I></TD>
</TR>
<TR>
<TD><I>Statement</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression</I> <CODE>;</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>{</CODE> <I>[Statement]</I> <CODE>}</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>return</CODE> <I>Expression</I> <CODE>;</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>if</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE> <CODE>{</CODE> <I>[Statement]</I> <CODE>}</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>if</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE> <CODE>{</CODE> <I>[Statement]</I> <CODE>}</CODE> <CODE>else</CODE> <CODE>{</CODE> <I>[Statement]</I> <CODE>}</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>while</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE> <CODE>{</CODE> <I>[Statement]</I> <CODE>}</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>until</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE> <CODE>{</CODE> <I>[Statement]</I> <CODE>}</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>for</CODE> <CODE>(</CODE> <I>[Expression]</I> <CODE>;</CODE> <I>Expression</I> <CODE>;</CODE> <I>[Expression]</I> <CODE>)</CODE> <CODE>{</CODE> <I>[Statement]</I> <CODE>}</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>break</CODE> <CODE>;</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>continue</CODE> <CODE>;</CODE></TD>
</TR>
<TR>
<TD><I>Expression11</I></TD>
<TD>-&gt;</TD>
<TD><I>Double</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Integer</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>pi</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD><I>Expression10</I></TD>
<TD>-&gt;</TD>
<TD><I>Ident</I> <CODE>(</CODE> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>(</CODE> <I>[Expression]</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>++</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>--</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>abs</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>pow</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>,</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>sqrt</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>exp</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>log</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>log10</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>sin</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>cos</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>tan</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>atan</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>atan2</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>,</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>asin</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>acos</CODE> <CODE>(</CODE> <I>Expression</I> <CODE>)</CODE></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression11</I></TD>
</TR>
<TR>
<TD><I>Expression9</I></TD>
<TD>-&gt;</TD>
<TD><CODE>!</CODE> <I>Expression10</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>++</CODE> <I>Ident</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>--</CODE> <I>Ident</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>-</CODE> <I>Expression10</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>~</CODE> <I>Expression10</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><CODE>+</CODE> <I>Expression10</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression10</I></TD>
</TR>
<TR>
<TD><I>Expression8</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression8</I> <CODE>*</CODE> <I>Expression9</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression8</I> <CODE>/</CODE> <I>Expression9</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression8</I> <CODE>%</CODE> <I>Expression9</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression9</I></TD>
</TR>
<TR>
<TD><I>Expression7</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression7</I> <CODE>+</CODE> <I>Expression8</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression7</I> <CODE>-</CODE> <I>Expression8</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression8</I></TD>
</TR>
<TR>
<TD><I>Expression6</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression6</I> <CODE>&lt;&lt;</CODE> <I>Expression7</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression6</I> <CODE>&gt;&gt;</CODE> <I>Expression7</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression7</I></TD>
</TR>
<TR>
<TD><I>Expression5</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression6</I> <CODE>&lt;</CODE> <I>Expression6</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression6</I> <CODE>&gt;</CODE> <I>Expression6</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression6</I> <CODE>&lt;=</CODE> <I>Expression6</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression6</I> <CODE>&gt;=</CODE> <I>Expression6</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression6</I></TD>
</TR>
<TR>
<TD><I>Expression4</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression5</I> <CODE>==</CODE> <I>Expression5</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression5</I> <CODE>!=</CODE> <I>Expression5</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression5</I></TD>
</TR>
<TR>
<TD><I>Expression3</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression3</I> <CODE>&amp;</CODE> <I>Expression4</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression3</I> <CODE>|</CODE> <I>Expression4</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression3</I> <CODE>^</CODE> <I>Expression4</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression4</I></TD>
</TR>
<TR>
<TD><I>Expression2</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression3</I> <CODE>&amp;&amp;</CODE> <I>Expression3</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression3</I> <CODE>||</CODE> <I>Expression3</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression3</I> <CODE>^^</CODE> <I>Expression3</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression3</I></TD>
</TR>
<TR>
<TD><I>Expression1</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression2</I> <CODE>?</CODE> <I>Expression2</I> <CODE>:</CODE> <I>Expression2</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression2</I></TD>
</TR>
<TR>
<TD><I>Expression</I></TD>
<TD>-&gt;</TD>
<TD><I>Ident</I> <CODE>=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>+=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>-=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>*=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>/=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>%=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>&amp;=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>|=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>^=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>&lt;&lt;=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Ident</I> <CODE>&gt;&gt;=</CODE> <I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression1</I></TD>
</TR>
<TR>
<TD><I>[Expression]</I></TD>
<TD>-&gt;</TD>
<TD><I>Expression</I></TD>
</TR>
<TR>
<TD></TD>
<TD ALIGN="center"><B>|</B></TD>
<TD><I>Expression</I> <CODE>,</CODE> <I>[Expression]</I></TD>
</TR>
</TABLE>

<P></P>
<H2>The implementation of FridgeScript</H2>
<H3>Program</H3>
<P>
The program consists of code blocks which are either lists of function definitions or lists of statements. It is treated as a function, with no parameters, which automatically returns at the end of the script.
</P>
<H3>Functions</H3>
<P>
Function definitions compile to code which can be reused by function calls in expressions.
</P>
<P>
When an expression calls a function the parameters are pushed onto the stack with the return address, there are no guarantees as to the order in which the parameters or the return address are pushed or how many of them are pushed to allow for optimisations. For instance, if a function call f(x,y) is repeatedly called as f(1,x) the compiler might create a two versions and optimise one around the first parameter being 1.
</P>
<P>
The function's local variables are stored on the stack. There is no guarantee that stack will be allocted for a variable though, or in any particular order. This allows for optimisations like replacing unchanging variables with constants, which might be compiled out.
</P>
<P>
The function is encapsulated, meaning that variables and functions defined inside of the function are not visible to expressions outside of the function.
</P>
<H3>Statements</H3>
<H4>Expressions</H4>
<P>
Expressions are used to compute values and store them into variables. Expressions are made up of identifiers and operators and take the form described by the grammar. An expression must be terminated with a <CODE>;</CODE> to be a valid statement on its own, or is otherwise used as part of an <CODE>if</CODE>, <CODE>while</CODE>, <CODE>until</CODE>, <CODE>for</CODE> or <CODE>return</CODE> statement. Here is a list of the functionality provided by each of the operators:
</P>
<TABLE ALIGN="center" CELLPADDING="4">
<TR>
<TD><CODE>=</CODE></TD>
<TD>assignment</TD>
<TD>e.g. a = 1.0 sets the variable named a to the value of 1.0</TD>
</TR>
<TR>
<TD><CODE>+</CODE></TD>
<TD>addition</TD>
<TD>e.g. a = 1.0 + a sets the variable named a to 1.0 plus its original value</TD>
</TR>
</TABLE>

<H4>return</H4>
<P>
Return statements exit the function, giving the value of their expression as the result. e.g. <CODE>one() { return 1; }</CODE> is a function which returns a value of 1.
</P>
<H4>if</H4>
<P>
If statements perform a conditional jump based on the result of an expression, skipping the code contained in the { } if the expression evaluates to zero.
</P>
<H2>The background of FridgeScript</H2>
<H3>History</H3>
<P>
FridgeScript is the spiritual successor to evallib, the scripting language used for Winamp's AVS and SPS. Although the design and discussion behind the language took place over a period of several years almost all of the original design was ignored in favour of implementing the language quickly whilst providing as many of the desired features as were practical.
</P>
<H3>Design</H3>
<P>
The primary design consideration for FridgeScript is speed of floating point operations, as such this implementation creates binary code in memory which can be compiled once and executed many times.
Results of floating point expressions are almost always expected in st(0), meaning that return statements compile to nothing more than the expression in the vast majority of cases.
Logical operations are lazy, if either if <CODE>a</CODE> or <CODE>b</CODE> in <CODE>a &amp;&amp; b</CODE> is zero then the other may not be evaluated.
The order of evaluation in expressions is non-trivial and is determined by reducing stack usage as much as possible, meaning that the deepest parts of expressions are usually evaluated last. Expression statements may be executed out of order, or not at all, depending on the side effects they have and if later results depend on them.
Variables are kept on the stack and are read from their original locations at the start of a program and written back at the end.
</P>
<H3>Usage</H3>
<P>
FridgeScript was originally designed to provide a scripting language to control graphics for music visualisation, but it is suitable for other scenarios where fast evaluation of floating point expressions is a high priority.
</P>

<!-- html code generated by txt2tags 2.3 (http://txt2tags.sf.net) -->
<!-- cmdline: txt2tags -\-target html DocFridgeScript.txt -->
</BODY></HTML>
